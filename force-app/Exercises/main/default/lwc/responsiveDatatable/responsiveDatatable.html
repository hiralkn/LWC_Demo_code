<template>
	<lightning-card variant="Narrow" title="Create a Data Table with Pagination using Lightning Web Components in Salesforce">
		
	<table class="slds-table slds-table_bordered slds-max-medium-table_stacked">
		<thead>
			<tr class="slds-text-heading_label">
				<template for:each={columnConfig} for:item="col">
					<th key={col.fieldName} scope="col" class={col.class}><span class="slds-truncate">{col.label}</span></th>
				</template>
			</tr>
		</thead>
		<tbody lwc:if={rows}>
			<template for:each={displayedData} for:item="row" for:index="idx">
				<tr class="slds-hint-parent" data-pk={row.pk} key={row.pk} onclick={onRowClick} ondblclick={onRowDblClick}>
					<template for:each={row.data} for:item="colData">
						<td class={colData.class} data-label={colData.label} key={colData.columnId}>
							<span class="slds-truncate">
								<template lwc:if={colData.isPhone}>
									<lightning-formatted-phone value={colData.value}></lightning-formatted-phone>
								</template>
								<template lwc:if={colData.isEmail}>
									<lightning-formatted-email value={colData.value}></lightning-formatted-email>
								</template>
								<template lwc:if={colData.isOther}>
									{colData.value}
								</template>
							</span>
						</td>
					</template>
				</tr>
			</template>
		</tbody>
	</table>

	<footer slot="footer" style="text-align: center">
		<ul>
			<li class="slds-button slds-button_icon page-item" key={previousKey} onclick={previousPage}>
				<a class="slds-button__icon" href="javascript:void(0);" aria-label="Previous">
					<lightning-icon icon-name="utility:left" size="x-small"></lightning-icon>
				</a>
			</li>
			<template for:each={pages} for:item="page">
				<li class="slds-button slds-button_icon page-item" key={page.key} onclick={gotoPage}>
					<a class="slds-button__icon" href="javascript:void(0);">{page.number}</a>
				</li>
			</template>
			<li class="slds-button slds-button_icon page-item" key={nextKey} onclick={nextPage}>
				<a class="slds-button__icon" href="javascript:void(0);" aria-label="Next">
					<lightning-icon icon-name="utility:right" size="x-small"></lightning-icon>
				</a>
			</li>
		</ul>
	</footer>

</lightning-card>
</template>